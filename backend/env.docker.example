# ============================================
# Docker 环境配置示例
# ============================================
# 使用方法：
# 1. 复制此文件为 .env（在项目根目录）
#    cp backend/env.docker.example .env
# 2. 修改以下配置项
# 3. 运行 docker-compose up -d
# ============================================

# --------------------------------------------
# 服务配置
# --------------------------------------------
PORT=3000
NODE_ENV=production

# API 基础 URL（重要：必须配置）
# 用于生成资源的完整访问路径（如头像、文件上传等）
# 必须配置为外部可访问的完整域名（不要包含 /api 后缀）
# 示例：
#   - 使用域名：https://your-domain.com
#   - 使用 IP：http://192.168.1.100
#   - 开发环境：http://localhost:3000
# 注意：不要设置为 Docker 内部服务名（如 http://backend:3000）
API_BASE_URL=https://your-domain.com

# --------------------------------------------
# 数据库配置
# --------------------------------------------
# 注意：DB_HOST 必须设置为 mysql（Docker Compose 内部服务名）
DB_HOST=mysql
DB_PORT=3306
DB_NAME=accounting_miniapp
DB_USER=accounting_user
DB_PASSWORD=your_secure_password_change_this

# --------------------------------------------
# MySQL 配置
# --------------------------------------------
MYSQL_ROOT_PASSWORD=root_password_change_this
MYSQL_USER=accounting_user
MYSQL_PASSWORD=your_secure_password_change_this

# --------------------------------------------
# JWT 配置
# --------------------------------------------
# 请使用随机字符串，建议至少 32 位
# 生成方法：node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_random_jwt_secret_at_least_32_chars_change_this

# --------------------------------------------
# 微信小程序配置
# --------------------------------------------
# 在微信公众平台获取：https://mp.weixin.qq.com/
WX_APPID=your_wechat_appid
WX_SECRET=your_wechat_appsecret

# 小程序码版本 (release=正式版, trial=体验版, develop=开发版)
WX_ENV_VERSION=trial

# ============================================
# 安全提示
# ============================================
# 1. 请务必修改所有包含 "change_this" 的配置项
# 2. 不要将 .env 文件提交到 Git 仓库
# 3. 生产环境请使用强密码
# 4. 定期更新 JWT_SECRET 和数据库密码
# ============================================

